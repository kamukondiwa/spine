<!DOCTYPE html>
	<html>
	<head>
			<meta charset="utf-8">
			<meta http-equiv="X-UA-Compatible" content="IE=edge">
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
			<script src="http://documentcloud.github.com/underscore/underscore-min.js"></script>
	</head>
	<body>
		<script type="text/javascript">
             var mockServer = {
                 init: function() {
                     var searchTerm = mockServer.getQyeryStringParameterByName('q')
                     response = mockServer.data;
                     if (searchTerm) {
                         response = _.filter(response, function(autocompleteItem) {
                            var match = autocompleteItem.title.toLowerCase().indexOf(searchTerm.toLowerCase()) != -1; //check if item title contains search term
                             return match;
                         })
                     }
                     document.write(JSON.stringify(response));
                 },
                 getQyeryStringParameterByName: function(name) {
                     name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
                     var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                         results = regex.exec(location.search);
                     return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
                 },
                 data: [{
                     title: 'Arctic monkeys',
                     url: '/rock-and-pop/arctic-monkeys-tickets.html'
                 }, {
                     title: 'Another a',
                     url: '#'
                 }, {
                     title: 'BBBBBBBBBB',
                     url: '#'
                 }, {
                     title: 'CCCCCCC',
                     url: '#'
                 }, {
                     title: 'DDDDDDDD',
                     url: '#'
                 }]
             };

             $(document).ready(mockServer.init);
		</script>
	</body>
</html>